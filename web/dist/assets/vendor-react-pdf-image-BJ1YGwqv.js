import{a as Y,b as I}from"./vendor-babel-runtime-WXw8LxeR.js";import{f as ar}from"./vendor-cross-fetch-DvOI2u39.js";import{P as R}from"./vendor-react-pdf-png-js-D_OjzuBh.js";import{_ as or}from"./vendor-jay-peg-DnV82Tak.js";var G=typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},g=[],m=[],fr=typeof Uint8Array<"u"?Uint8Array:Array,M=!1;function $(){M=!0;for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,i=n.length;r<i;++r)g[r]=n[r],m[n.charCodeAt(r)]=r;m[45]=62,m[95]=63}function hr(n){M||$();var r,i,e,t,a,u,f=n.length;if(f%4>0)throw new Error("Invalid string. Length must be a multiple of 4");a=n[f-2]==="="?2:n[f-1]==="="?1:0,u=new fr(f*3/4-a),e=a>0?f-4:f;var h=0;for(r=0,i=0;r<e;r+=4,i+=3)t=m[n.charCodeAt(r)]<<18|m[n.charCodeAt(r+1)]<<12|m[n.charCodeAt(r+2)]<<6|m[n.charCodeAt(r+3)],u[h++]=t>>16&255,u[h++]=t>>8&255,u[h++]=t&255;return a===2?(t=m[n.charCodeAt(r)]<<2|m[n.charCodeAt(r+1)]>>4,u[h++]=t&255):a===1&&(t=m[n.charCodeAt(r)]<<10|m[n.charCodeAt(r+1)]<<4|m[n.charCodeAt(r+2)]>>2,u[h++]=t>>8&255,u[h++]=t&255),u}function sr(n){return g[n>>18&63]+g[n>>12&63]+g[n>>6&63]+g[n&63]}function lr(n,r,i){for(var e,t=[],a=r;a<i;a+=3)e=(n[a]<<16)+(n[a+1]<<8)+n[a+2],t.push(sr(e));return t.join("")}function V(n){M||$();for(var r,i=n.length,e=i%3,t="",a=[],u=16383,f=0,h=i-e;f<h;f+=u)a.push(lr(n,f,f+u>h?h:f+u));return e===1?(r=n[i-1],t+=g[r>>2],t+=g[r<<4&63],t+="=="):e===2&&(r=(n[i-2]<<8)+n[i-1],t+=g[r>>10],t+=g[r>>4&63],t+=g[r<<2&63],t+="="),a.push(t),a.join("")}function _(n,r,i,e,t){var a,u,f=t*8-e-1,h=(1<<f)-1,s=h>>1,c=-7,l=i?t-1:0,p=i?-1:1,E=n[r+l];for(l+=p,a=E&(1<<-c)-1,E>>=-c,c+=f;c>0;a=a*256+n[r+l],l+=p,c-=8);for(u=a&(1<<-c)-1,a>>=-c,c+=e;c>0;u=u*256+n[r+l],l+=p,c-=8);if(a===0)a=1-s;else{if(a===h)return u?NaN:(E?-1:1)*(1/0);u=u+Math.pow(2,e),a=a-s}return(E?-1:1)*u*Math.pow(2,a-e)}function H(n,r,i,e,t,a){var u,f,h,s=a*8-t-1,c=(1<<s)-1,l=c>>1,p=t===23?Math.pow(2,-24)-Math.pow(2,-77):0,E=e?0:a-1,v=e?1:-1,ur=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(f=isNaN(r)?1:0,u=c):(u=Math.floor(Math.log(r)/Math.LN2),r*(h=Math.pow(2,-u))<1&&(u--,h*=2),u+l>=1?r+=p/h:r+=p*Math.pow(2,1-l),r*h>=2&&(u++,h/=2),u+l>=c?(f=0,u=c):u+l>=1?(f=(r*h-1)*Math.pow(2,t),u=u+l):(f=r*Math.pow(2,l-1)*Math.pow(2,t),u=0));t>=8;n[i+E]=f&255,E+=v,f/=256,t-=8);for(u=u<<t|f,s+=t;s>0;n[i+E]=u&255,E+=v,u/=256,s-=8);n[i+E-v]|=ur*128}var cr={}.toString,O=Array.isArray||function(n){return cr.call(n)=="[object Array]"};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */var pr=50;o.TYPED_ARRAY_SUPPORT=G.TYPED_ARRAY_SUPPORT!==void 0?G.TYPED_ARRAY_SUPPORT:!0;U();function U(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function A(n,r){if(U()<r)throw new RangeError("Invalid typed array length");return o.TYPED_ARRAY_SUPPORT?(n=new Uint8Array(r),n.__proto__=o.prototype):(n===null&&(n=new o(r)),n.length=r),n}function o(n,r,i){if(!o.TYPED_ARRAY_SUPPORT&&!(this instanceof o))return new o(n,r,i);if(typeof n=="number"){if(typeof r=="string")throw new Error("If encoding is specified then the first argument must be a string");return k(this,n)}return z(this,n,r,i)}o.poolSize=8192;o._augment=function(n){return n.__proto__=o.prototype,n};function z(n,r,i,e){if(typeof r=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&r instanceof ArrayBuffer?Er(n,r,i,e):typeof r=="string"?xr(n,r,i):mr(n,r)}o.from=function(n,r,i){return z(null,n,r,i)};o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&o[Symbol.species]);function X(n){if(typeof n!="number")throw new TypeError('"size" argument must be a number');if(n<0)throw new RangeError('"size" argument must not be negative')}function wr(n,r,i,e){return X(r),r<=0?A(n,r):i!==void 0?typeof e=="string"?A(n,r).fill(i,e):A(n,r).fill(i):A(n,r)}o.alloc=function(n,r,i){return wr(null,n,r,i)};function k(n,r){if(X(r),n=A(n,r<0?0:N(r)|0),!o.TYPED_ARRAY_SUPPORT)for(var i=0;i<r;++i)n[i]=0;return n}o.allocUnsafe=function(n){return k(null,n)};o.allocUnsafeSlow=function(n){return k(null,n)};function xr(n,r,i){if((typeof i!="string"||i==="")&&(i="utf8"),!o.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var e=Z(r,i)|0;n=A(n,e);var t=n.write(r,i);return t!==e&&(n=n.slice(0,t)),n}function S(n,r){var i=r.length<0?0:N(r.length)|0;n=A(n,i);for(var e=0;e<i;e+=1)n[e]=r[e]&255;return n}function Er(n,r,i,e){if(r.byteLength,i<0||r.byteLength<i)throw new RangeError("'offset' is out of bounds");if(r.byteLength<i+(e||0))throw new RangeError("'length' is out of bounds");return i===void 0&&e===void 0?r=new Uint8Array(r):e===void 0?r=new Uint8Array(r,i):r=new Uint8Array(r,i,e),o.TYPED_ARRAY_SUPPORT?(n=r,n.__proto__=o.prototype):n=S(n,r),n}function mr(n,r){if(F(r)){var i=N(r.length)|0;return n=A(n,i),n.length===0||r.copy(n,0,0,i),n}if(r){if(typeof ArrayBuffer<"u"&&r.buffer instanceof ArrayBuffer||"length"in r)return typeof r.length!="number"||kr(r.length)?A(n,0):S(n,r);if(r.type==="Buffer"&&O(r.data))return S(n,r.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function N(n){if(n>=U())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+U().toString(16)+" bytes");return n|0}o.isBuffer=Nr;function F(n){return!!(n!=null&&n._isBuffer)}o.compare=function(r,i){if(!F(r)||!F(i))throw new TypeError("Arguments must be Buffers");if(r===i)return 0;for(var e=r.length,t=i.length,a=0,u=Math.min(e,t);a<u;++a)if(r[a]!==i[a]){e=r[a],t=i[a];break}return e<t?-1:t<e?1:0};o.isEncoding=function(r){switch(String(r).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};o.concat=function(r,i){if(!O(r))throw new TypeError('"list" argument must be an Array of Buffers');if(r.length===0)return o.alloc(0);var e;if(i===void 0)for(i=0,e=0;e<r.length;++e)i+=r[e].length;var t=o.allocUnsafe(i),a=0;for(e=0;e<r.length;++e){var u=r[e];if(!F(u))throw new TypeError('"list" argument must be an Array of Buffers');u.copy(t,a),a+=u.length}return t};function Z(n,r){if(F(n))return n.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(n)||n instanceof ArrayBuffer))return n.byteLength;typeof n!="string"&&(n=""+n);var i=n.length;if(i===0)return 0;for(var e=!1;;)switch(r){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return T(n).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return i*2;case"hex":return i>>>1;case"base64":return ir(n).length;default:if(e)return T(n).length;r=(""+r).toLowerCase(),e=!0}}o.byteLength=Z;function gr(n,r,i){var e=!1;if((r===void 0||r<0)&&(r=0),r>this.length||((i===void 0||i>this.length)&&(i=this.length),i<=0)||(i>>>=0,r>>>=0,i<=r))return"";for(n||(n="utf8");;)switch(n){case"hex":return _r(this,r,i);case"utf8":case"utf-8":return q(this,r,i);case"ascii":return Ur(this,r,i);case"latin1":case"binary":return Tr(this,r,i);case"base64":return Br(this,r,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return dr(this,r,i);default:if(e)throw new TypeError("Unknown encoding: "+n);n=(n+"").toLowerCase(),e=!0}}o.prototype._isBuffer=!0;function y(n,r,i){var e=n[r];n[r]=n[i],n[i]=e}o.prototype.swap16=function(){var r=this.length;if(r%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var i=0;i<r;i+=2)y(this,i,i+1);return this};o.prototype.swap32=function(){var r=this.length;if(r%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var i=0;i<r;i+=4)y(this,i,i+3),y(this,i+1,i+2);return this};o.prototype.swap64=function(){var r=this.length;if(r%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var i=0;i<r;i+=8)y(this,i,i+7),y(this,i+1,i+6),y(this,i+2,i+5),y(this,i+3,i+4);return this};o.prototype.toString=function(){var r=this.length|0;return r===0?"":arguments.length===0?q(this,0,r):gr.apply(this,arguments)};o.prototype.equals=function(r){if(!F(r))throw new TypeError("Argument must be a Buffer");return this===r?!0:o.compare(this,r)===0};o.prototype.inspect=function(){var r="",i=pr;return this.length>0&&(r=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(r+=" ... ")),"<Buffer "+r+">"};o.prototype.compare=function(r,i,e,t,a){if(!F(r))throw new TypeError("Argument must be a Buffer");if(i===void 0&&(i=0),e===void 0&&(e=r?r.length:0),t===void 0&&(t=0),a===void 0&&(a=this.length),i<0||e>r.length||t<0||a>this.length)throw new RangeError("out of range index");if(t>=a&&i>=e)return 0;if(t>=a)return-1;if(i>=e)return 1;if(i>>>=0,e>>>=0,t>>>=0,a>>>=0,this===r)return 0;for(var u=a-t,f=e-i,h=Math.min(u,f),s=this.slice(t,a),c=r.slice(i,e),l=0;l<h;++l)if(s[l]!==c[l]){u=s[l],f=c[l];break}return u<f?-1:f<u?1:0};function K(n,r,i,e,t){if(n.length===0)return-1;if(typeof i=="string"?(e=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=t?0:n.length-1),i<0&&(i=n.length+i),i>=n.length){if(t)return-1;i=n.length-1}else if(i<0)if(t)i=0;else return-1;if(typeof r=="string"&&(r=o.from(r,e)),F(r))return r.length===0?-1:W(n,r,i,e,t);if(typeof r=="number")return r=r&255,o.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?t?Uint8Array.prototype.indexOf.call(n,r,i):Uint8Array.prototype.lastIndexOf.call(n,r,i):W(n,[r],i,e,t);throw new TypeError("val must be string, number or Buffer")}function W(n,r,i,e,t){var a=1,u=n.length,f=r.length;if(e!==void 0&&(e=String(e).toLowerCase(),e==="ucs2"||e==="ucs-2"||e==="utf16le"||e==="utf-16le")){if(n.length<2||r.length<2)return-1;a=2,u/=2,f/=2,i/=2}function h(E,v){return a===1?E[v]:E.readUInt16BE(v*a)}var s;if(t){var c=-1;for(s=i;s<u;s++)if(h(n,s)===h(r,c===-1?0:s-c)){if(c===-1&&(c=s),s-c+1===f)return c*a}else c!==-1&&(s-=s-c),c=-1}else for(i+f>u&&(i=u-f),s=i;s>=0;s--){for(var l=!0,p=0;p<f;p++)if(h(n,s+p)!==h(r,p)){l=!1;break}if(l)return s}return-1}o.prototype.includes=function(r,i,e){return this.indexOf(r,i,e)!==-1};o.prototype.indexOf=function(r,i,e){return K(this,r,i,e,!0)};o.prototype.lastIndexOf=function(r,i,e){return K(this,r,i,e,!1)};function Fr(n,r,i,e){i=Number(i)||0;var t=n.length-i;e?(e=Number(e),e>t&&(e=t)):e=t;var a=r.length;if(a%2!==0)throw new TypeError("Invalid hex string");e>a/2&&(e=a/2);for(var u=0;u<e;++u){var f=parseInt(r.substr(u*2,2),16);if(isNaN(f))return u;n[i+u]=f}return u}function Ar(n,r,i,e){return C(T(r,n.length-i),n,i,e)}function Q(n,r,i,e){return C(Yr(r),n,i,e)}function yr(n,r,i,e){return Q(n,r,i,e)}function vr(n,r,i,e){return C(ir(r),n,i,e)}function Ir(n,r,i,e){return C(Mr(r,n.length-i),n,i,e)}o.prototype.write=function(r,i,e,t){if(i===void 0)t="utf8",e=this.length,i=0;else if(e===void 0&&typeof i=="string")t=i,e=this.length,i=0;else if(isFinite(i))i=i|0,isFinite(e)?(e=e|0,t===void 0&&(t="utf8")):(t=e,e=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var a=this.length-i;if((e===void 0||e>a)&&(e=a),r.length>0&&(e<0||i<0)||i>this.length)throw new RangeError("Attempt to write outside buffer bounds");t||(t="utf8");for(var u=!1;;)switch(t){case"hex":return Fr(this,r,i,e);case"utf8":case"utf-8":return Ar(this,r,i,e);case"ascii":return Q(this,r,i,e);case"latin1":case"binary":return yr(this,r,i,e);case"base64":return vr(this,r,i,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ir(this,r,i,e);default:if(u)throw new TypeError("Unknown encoding: "+t);t=(""+t).toLowerCase(),u=!0}};o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Br(n,r,i){return r===0&&i===n.length?V(n):V(n.slice(r,i))}function q(n,r,i){i=Math.min(n.length,i);for(var e=[],t=r;t<i;){var a=n[t],u=null,f=a>239?4:a>223?3:a>191?2:1;if(t+f<=i){var h,s,c,l;switch(f){case 1:a<128&&(u=a);break;case 2:h=n[t+1],(h&192)===128&&(l=(a&31)<<6|h&63,l>127&&(u=l));break;case 3:h=n[t+1],s=n[t+2],(h&192)===128&&(s&192)===128&&(l=(a&15)<<12|(h&63)<<6|s&63,l>2047&&(l<55296||l>57343)&&(u=l));break;case 4:h=n[t+1],s=n[t+2],c=n[t+3],(h&192)===128&&(s&192)===128&&(c&192)===128&&(l=(a&15)<<18|(h&63)<<12|(s&63)<<6|c&63,l>65535&&l<1114112&&(u=l))}}u===null?(u=65533,f=1):u>65535&&(u-=65536,e.push(u>>>10&1023|55296),u=56320|u&1023),e.push(u),t+=f}return Rr(e)}var J=4096;function Rr(n){var r=n.length;if(r<=J)return String.fromCharCode.apply(String,n);for(var i="",e=0;e<r;)i+=String.fromCharCode.apply(String,n.slice(e,e+=J));return i}function Ur(n,r,i){var e="";i=Math.min(n.length,i);for(var t=r;t<i;++t)e+=String.fromCharCode(n[t]&127);return e}function Tr(n,r,i){var e="";i=Math.min(n.length,i);for(var t=r;t<i;++t)e+=String.fromCharCode(n[t]);return e}function _r(n,r,i){var e=n.length;(!r||r<0)&&(r=0),(!i||i<0||i>e)&&(i=e);for(var t="",a=r;a<i;++a)t+=Sr(n[a]);return t}function dr(n,r,i){for(var e=n.slice(r,i),t="",a=0;a<e.length;a+=2)t+=String.fromCharCode(e[a]+e[a+1]*256);return t}o.prototype.slice=function(r,i){var e=this.length;r=~~r,i=i===void 0?e:~~i,r<0?(r+=e,r<0&&(r=0)):r>e&&(r=e),i<0?(i+=e,i<0&&(i=0)):i>e&&(i=e),i<r&&(i=r);var t;if(o.TYPED_ARRAY_SUPPORT)t=this.subarray(r,i),t.__proto__=o.prototype;else{var a=i-r;t=new o(a,void 0);for(var u=0;u<a;++u)t[u]=this[u+r]}return t};function w(n,r,i){if(n%1!==0||n<0)throw new RangeError("offset is not uint");if(n+r>i)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUIntLE=function(r,i,e){r=r|0,i=i|0,e||w(r,i,this.length);for(var t=this[r],a=1,u=0;++u<i&&(a*=256);)t+=this[r+u]*a;return t};o.prototype.readUIntBE=function(r,i,e){r=r|0,i=i|0,e||w(r,i,this.length);for(var t=this[r+--i],a=1;i>0&&(a*=256);)t+=this[r+--i]*a;return t};o.prototype.readUInt8=function(r,i){return i||w(r,1,this.length),this[r]};o.prototype.readUInt16LE=function(r,i){return i||w(r,2,this.length),this[r]|this[r+1]<<8};o.prototype.readUInt16BE=function(r,i){return i||w(r,2,this.length),this[r]<<8|this[r+1]};o.prototype.readUInt32LE=function(r,i){return i||w(r,4,this.length),(this[r]|this[r+1]<<8|this[r+2]<<16)+this[r+3]*16777216};o.prototype.readUInt32BE=function(r,i){return i||w(r,4,this.length),this[r]*16777216+(this[r+1]<<16|this[r+2]<<8|this[r+3])};o.prototype.readIntLE=function(r,i,e){r=r|0,i=i|0,e||w(r,i,this.length);for(var t=this[r],a=1,u=0;++u<i&&(a*=256);)t+=this[r+u]*a;return a*=128,t>=a&&(t-=Math.pow(2,8*i)),t};o.prototype.readIntBE=function(r,i,e){r=r|0,i=i|0,e||w(r,i,this.length);for(var t=i,a=1,u=this[r+--t];t>0&&(a*=256);)u+=this[r+--t]*a;return a*=128,u>=a&&(u-=Math.pow(2,8*i)),u};o.prototype.readInt8=function(r,i){return i||w(r,1,this.length),this[r]&128?(255-this[r]+1)*-1:this[r]};o.prototype.readInt16LE=function(r,i){i||w(r,2,this.length);var e=this[r]|this[r+1]<<8;return e&32768?e|4294901760:e};o.prototype.readInt16BE=function(r,i){i||w(r,2,this.length);var e=this[r+1]|this[r]<<8;return e&32768?e|4294901760:e};o.prototype.readInt32LE=function(r,i){return i||w(r,4,this.length),this[r]|this[r+1]<<8|this[r+2]<<16|this[r+3]<<24};o.prototype.readInt32BE=function(r,i){return i||w(r,4,this.length),this[r]<<24|this[r+1]<<16|this[r+2]<<8|this[r+3]};o.prototype.readFloatLE=function(r,i){return i||w(r,4,this.length),_(this,r,!0,23,4)};o.prototype.readFloatBE=function(r,i){return i||w(r,4,this.length),_(this,r,!1,23,4)};o.prototype.readDoubleLE=function(r,i){return i||w(r,8,this.length),_(this,r,!0,52,8)};o.prototype.readDoubleBE=function(r,i){return i||w(r,8,this.length),_(this,r,!1,52,8)};function x(n,r,i,e,t,a){if(!F(n))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>t||r<a)throw new RangeError('"value" argument is out of bounds');if(i+e>n.length)throw new RangeError("Index out of range")}o.prototype.writeUIntLE=function(r,i,e,t){if(r=+r,i=i|0,e=e|0,!t){var a=Math.pow(2,8*e)-1;x(this,r,i,e,a,0)}var u=1,f=0;for(this[i]=r&255;++f<e&&(u*=256);)this[i+f]=r/u&255;return i+e};o.prototype.writeUIntBE=function(r,i,e,t){if(r=+r,i=i|0,e=e|0,!t){var a=Math.pow(2,8*e)-1;x(this,r,i,e,a,0)}var u=e-1,f=1;for(this[i+u]=r&255;--u>=0&&(f*=256);)this[i+u]=r/f&255;return i+e};o.prototype.writeUInt8=function(r,i,e){return r=+r,i=i|0,e||x(this,r,i,1,255,0),o.TYPED_ARRAY_SUPPORT||(r=Math.floor(r)),this[i]=r&255,i+1};function d(n,r,i,e){r<0&&(r=65535+r+1);for(var t=0,a=Math.min(n.length-i,2);t<a;++t)n[i+t]=(r&255<<8*(e?t:1-t))>>>(e?t:1-t)*8}o.prototype.writeUInt16LE=function(r,i,e){return r=+r,i=i|0,e||x(this,r,i,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[i]=r&255,this[i+1]=r>>>8):d(this,r,i,!0),i+2};o.prototype.writeUInt16BE=function(r,i,e){return r=+r,i=i|0,e||x(this,r,i,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[i]=r>>>8,this[i+1]=r&255):d(this,r,i,!1),i+2};function P(n,r,i,e){r<0&&(r=4294967295+r+1);for(var t=0,a=Math.min(n.length-i,4);t<a;++t)n[i+t]=r>>>(e?t:3-t)*8&255}o.prototype.writeUInt32LE=function(r,i,e){return r=+r,i=i|0,e||x(this,r,i,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[i+3]=r>>>24,this[i+2]=r>>>16,this[i+1]=r>>>8,this[i]=r&255):P(this,r,i,!0),i+4};o.prototype.writeUInt32BE=function(r,i,e){return r=+r,i=i|0,e||x(this,r,i,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[i]=r>>>24,this[i+1]=r>>>16,this[i+2]=r>>>8,this[i+3]=r&255):P(this,r,i,!1),i+4};o.prototype.writeIntLE=function(r,i,e,t){if(r=+r,i=i|0,!t){var a=Math.pow(2,8*e-1);x(this,r,i,e,a-1,-a)}var u=0,f=1,h=0;for(this[i]=r&255;++u<e&&(f*=256);)r<0&&h===0&&this[i+u-1]!==0&&(h=1),this[i+u]=(r/f>>0)-h&255;return i+e};o.prototype.writeIntBE=function(r,i,e,t){if(r=+r,i=i|0,!t){var a=Math.pow(2,8*e-1);x(this,r,i,e,a-1,-a)}var u=e-1,f=1,h=0;for(this[i+u]=r&255;--u>=0&&(f*=256);)r<0&&h===0&&this[i+u+1]!==0&&(h=1),this[i+u]=(r/f>>0)-h&255;return i+e};o.prototype.writeInt8=function(r,i,e){return r=+r,i=i|0,e||x(this,r,i,1,127,-128),o.TYPED_ARRAY_SUPPORT||(r=Math.floor(r)),r<0&&(r=255+r+1),this[i]=r&255,i+1};o.prototype.writeInt16LE=function(r,i,e){return r=+r,i=i|0,e||x(this,r,i,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[i]=r&255,this[i+1]=r>>>8):d(this,r,i,!0),i+2};o.prototype.writeInt16BE=function(r,i,e){return r=+r,i=i|0,e||x(this,r,i,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[i]=r>>>8,this[i+1]=r&255):d(this,r,i,!1),i+2};o.prototype.writeInt32LE=function(r,i,e){return r=+r,i=i|0,e||x(this,r,i,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[i]=r&255,this[i+1]=r>>>8,this[i+2]=r>>>16,this[i+3]=r>>>24):P(this,r,i,!0),i+4};o.prototype.writeInt32BE=function(r,i,e){return r=+r,i=i|0,e||x(this,r,i,4,2147483647,-2147483648),r<0&&(r=4294967295+r+1),o.TYPED_ARRAY_SUPPORT?(this[i]=r>>>24,this[i+1]=r>>>16,this[i+2]=r>>>8,this[i+3]=r&255):P(this,r,i,!1),i+4};function j(n,r,i,e,t,a){if(i+e>n.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function b(n,r,i,e,t){return t||j(n,r,i,4),H(n,r,i,e,23,4),i+4}o.prototype.writeFloatLE=function(r,i,e){return b(this,r,i,!0,e)};o.prototype.writeFloatBE=function(r,i,e){return b(this,r,i,!1,e)};function rr(n,r,i,e,t){return t||j(n,r,i,8),H(n,r,i,e,52,8),i+8}o.prototype.writeDoubleLE=function(r,i,e){return rr(this,r,i,!0,e)};o.prototype.writeDoubleBE=function(r,i,e){return rr(this,r,i,!1,e)};o.prototype.copy=function(r,i,e,t){if(e||(e=0),!t&&t!==0&&(t=this.length),i>=r.length&&(i=r.length),i||(i=0),t>0&&t<e&&(t=e),t===e||r.length===0||this.length===0)return 0;if(i<0)throw new RangeError("targetStart out of bounds");if(e<0||e>=this.length)throw new RangeError("sourceStart out of bounds");if(t<0)throw new RangeError("sourceEnd out of bounds");t>this.length&&(t=this.length),r.length-i<t-e&&(t=r.length-i+e);var a=t-e,u;if(this===r&&e<i&&i<t)for(u=a-1;u>=0;--u)r[u+i]=this[u+e];else if(a<1e3||!o.TYPED_ARRAY_SUPPORT)for(u=0;u<a;++u)r[u+i]=this[u+e];else Uint8Array.prototype.set.call(r,this.subarray(e,e+a),i);return a};o.prototype.fill=function(r,i,e,t){if(typeof r=="string"){if(typeof i=="string"?(t=i,i=0,e=this.length):typeof e=="string"&&(t=e,e=this.length),r.length===1){var a=r.charCodeAt(0);a<256&&(r=a)}if(t!==void 0&&typeof t!="string")throw new TypeError("encoding must be a string");if(typeof t=="string"&&!o.isEncoding(t))throw new TypeError("Unknown encoding: "+t)}else typeof r=="number"&&(r=r&255);if(i<0||this.length<i||this.length<e)throw new RangeError("Out of range index");if(e<=i)return this;i=i>>>0,e=e===void 0?this.length:e>>>0,r||(r=0);var u;if(typeof r=="number")for(u=i;u<e;++u)this[u]=r;else{var f=F(r)?r:T(new o(r,t).toString()),h=f.length;for(u=0;u<e-i;++u)this[u+i]=f[u%h]}return this};var Pr=/[^+\/0-9A-Za-z-_]/g;function Cr(n){if(n=Dr(n).replace(Pr,""),n.length<2)return"";for(;n.length%4!==0;)n=n+"=";return n}function Dr(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function Sr(n){return n<16?"0"+n.toString(16):n.toString(16)}function T(n,r){r=r||1/0;for(var i,e=n.length,t=null,a=[],u=0;u<e;++u){if(i=n.charCodeAt(u),i>55295&&i<57344){if(!t){if(i>56319){(r-=3)>-1&&a.push(239,191,189);continue}else if(u+1===e){(r-=3)>-1&&a.push(239,191,189);continue}t=i;continue}if(i<56320){(r-=3)>-1&&a.push(239,191,189),t=i;continue}i=(t-55296<<10|i-56320)+65536}else t&&(r-=3)>-1&&a.push(239,191,189);if(t=null,i<128){if((r-=1)<0)break;a.push(i)}else if(i<2048){if((r-=2)<0)break;a.push(i>>6|192,i&63|128)}else if(i<65536){if((r-=3)<0)break;a.push(i>>12|224,i>>6&63|128,i&63|128)}else if(i<1114112){if((r-=4)<0)break;a.push(i>>18|240,i>>12&63|128,i>>6&63|128,i&63|128)}else throw new Error("Invalid code point")}return a}function Yr(n){for(var r=[],i=0;i<n.length;++i)r.push(n.charCodeAt(i)&255);return r}function Mr(n,r){for(var i,e,t,a=[],u=0;u<n.length&&!((r-=2)<0);++u)i=n.charCodeAt(u),e=i>>8,t=i%256,a.push(t),a.push(e);return a}function ir(n){return hr(Cr(n))}function C(n,r,i,e){for(var t=0;t<e&&!(t+i>=r.length||t>=n.length);++t)r[t+i]=n[t];return t}function kr(n){return n!==n}function Nr(n){return n!=null&&(!!n._isBuffer||nr(n)||Lr(n))}function nr(n){return!!n.constructor&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}function Lr(n){return typeof n.readFloatLE=="function"&&typeof n.slice=="function"&&nr(n.slice(0,0))}R.isValid=function(r){try{return!!new R(r)}catch{return!1}};var L=function(r){if(this.data=null,this.width=null,this.height=null,this.data=r,r.readUInt16BE(0)!==65496)throw new Error("SOI not found in JPEG");for(var i=or.decode(this.data),e=0;e<i.length;e+=1){var t=i[e];t.name==="EXIF"&&t.entries.orientation&&(this.orientation=t.entries.orientation),t.name==="SOF"&&(this.width||(this.width=t.width),this.height||(this.height=t.height))}if(this.orientation>4){var a=[this.height,this.width];this.width=a[0],this.height=a[1]}};L.isValid=function(n){return n&&o.isBuffer(n)&&n.readUInt16BE(0)===65496};var Gr=function(r){var i=r===void 0?{}:r,e=i.limit,t=e===void 0?100:e,a={},u=[];return{get:function(h){return a[h]},set:function(h,s){u.push(h),u.length>t&&delete a[u.shift()],a[h]=s},reset:function(){a={},u=[]},length:function(){return u.length}}},D=Gr({limit:30}),Vr=(function(){var n=Y(I().mark(function r(i,e){var t,a;return I().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,ar(i,e);case 2:return t=f.sent,f.next=5,t.buffer?t.buffer():t.arrayBuffer();case 5:return a=f.sent,f.abrupt("return",a.constructor.name==="Buffer"?a:o.from(a));case 7:case"end":return f.stop()}},r)}));return function(i,e){return n.apply(this,arguments)}})(),er=function(r){var i=r.toLowerCase();return i==="jpg"||i==="jpeg"||i==="png"},Wr=function(r){var i;return L.isValid(r)?i="jpg":R.isValid(r)&&(i="png"),i},Jr=function(r){var i=r.uri;return/^data:image\/[a-zA-Z]*;base64,[^"]*/g.test(i)};function B(n,r){switch(r.toLowerCase()){case"jpg":case"jpeg":return new L(n);case"png":return new R(n);default:return null}}var $r=function(r){var i=r.uri,e=/^data:image\/([a-zA-Z]*);base64,([^"]*)/g.exec(i),t=e[1],a=e[2];if(!er(t))throw new Error("Base64 image invalid format: "+t);return new Promise(function(u){return u(B(o.from(a,"base64"),t))})},Hr=function(r){if(r.data&&r.format)return new Promise(function(i){return i(B(r.data,r.format))});throw new Error("Invalid data given for local file: "+JSON.stringify(r))},tr=function(r){var i=Wr(r);return i?new Promise(function(e){return e(B(r,i))}):Promise.resolve()},Or=(function(){var n=Y(I().mark(function r(i){var e,t,a,u,f;return I().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(e=i.type,!(!e||e==="application/octet-stream")){s.next=7;break}return s.next=4,i.arrayBuffer();case 4:return t=s.sent,a=o.from(t),s.abrupt("return",tr(a));case 7:if(e.startsWith("image/")){s.next=9;break}throw new Error("Invalid blob type: "+e);case 9:if(u=e.replace("image/",""),er(u)){s.next=12;break}throw new Error("Invalid blob type: "+e);case 12:return s.next=14,i.arrayBuffer();case 14:return f=s.sent,s.abrupt("return",B(o.from(f),u));case 16:case"end":return s.stop()}},r)}));return function(i){return n.apply(this,arguments)}})(),zr=function(r){var i=r[0]===137&&r[1]===80&&r[2]===78&&r[3]===71&&r[4]===13&&r[5]===10&&r[6]===26&&r[7]===10,e=r[0]===255&&r[1]===216&&r[2]===255,t="";if(i)t="png";else if(e)t="jpg";else throw new Error("Not valid image extension");return t},Xr=(function(){var n=Y(I().mark(function r(i){var e,t,a,u,f,h,s,c;return I().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:e=i.uri,t=i.body,a=i.headers,u=i.method,f=u===void 0?"GET":u,h=i.credentials;{p.next=7;break}case 4:p.t0=p.sent,p.next=10;break;case 7:return p.next=9,Vr(e,{body:t,headers:a,method:f,credentials:h});case 9:p.t0=p.sent;case 10:return s=p.t0,c=zr(s),p.abrupt("return",B(s,c));case 13:case"end":return p.stop()}},r)}));return function(i){return n.apply(this,arguments)}})(),jr=function(r,i){var e=i===void 0?{}:i,t=e.cache,a=t===void 0?!0:t,u,f=r.data?r.data.toString():r.uri;if(typeof Blob<"u"&&r instanceof Blob)u=Or(r);else if(o.isBuffer(r))u=tr(r);else{if(a&&D.get(f))return D.get(f);Jr(r)?u=$r(r):typeof r=="object"&&r.data?u=Hr(r):u=Xr(r)}if(!u)throw new Error("Cannot resolve image");return a&&D.set(f,u),u};export{jr as r};
