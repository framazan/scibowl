const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/vendor-react-katex-CCCXQq7R.js","assets/vendor-abs-svg-path-DCUpb6Nw.js","assets/vendor-react-DpsG3A-O.js","assets/vendor-prop-types-Chjiymov.js","assets/vendor-katex-DP_4UPSs.js","assets/vendor-katex-CIur2ABi.css"])))=>i.map(i=>d[i]);
import{_ as f,k as m}from"./index-1DbH85vI.js";import{j as n,r as c,b as p}from"./vendor-react-DpsG3A-O.js";import"./vendor-katex-DP_4UPSs.js";import{r as _,a as $}from"./vendor-firebase-storage-D58QqkYS.js";const d=p.lazy(()=>f(()=>import("./vendor-react-katex-CCCXQq7R.js").then(t=>t.r),__vite__mapDeps([0,1,2,3,4,5])).then(t=>({default:t.BlockMath}))),j=p.lazy(()=>f(()=>import("./vendor-react-katex-CCCXQq7R.js").then(t=>t.r),__vite__mapDeps([0,1,2,3,4,5])).then(t=>({default:t.InlineMath})));function S({children:t}){if(typeof t!="string")return n.jsx(n.Fragment,{children:t});const a=/(\$\$[\s\S]+?\$\$|\$[^\$\n]+?\$)/g,e=[];let s=0,r,i=0;for(;(r=a.exec(t))!==null;){r.index>s&&e.push(t.slice(s,r.index));const o=r[0];o.startsWith("$$")?e.push(n.jsx(c.Suspense,{fallback:n.jsx("span",{children:"[math]"},i++),children:n.jsx(d,{children:o.slice(2,-2)},i++)})):o.startsWith("$")&&e.push(n.jsx(c.Suspense,{fallback:n.jsx("span",{children:"[math]"},i++),children:n.jsx(j,{children:o.slice(1,-1)},i++)})),s=a.lastIndex}return s<t.length&&e.push(t.slice(s)),n.jsx(n.Fragment,{children:e})}function u(t){return String(t??"").toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")}function v(t,a,e){return`${u(t)}-${u(a)}-${u(e)}`}async function w({tournament:t,round:a,question_number:e}){const s=m(),r=v(t,a,e),i=[".png",".jpg",".jpeg",".webp"],o=["","visuals/","visual-bonuses/"];for(const h of o)for(const g of i)try{const x=_(s,`${h}${r}${g}`),l=await $(x);if(l)return l}catch{}return null}function E(t){if(!t)return!1;const a=s=>{if(s===!0)return!0;const r=String(s??"").trim().toLowerCase();return r==="true"||r==="1"||r==="yes"||r==="y"},e=["is_visual_bonus","visual_bonus","is_visual","has_visual","visualBonus","visualbonus","hasVisual","has_visual_bonus","visual"];for(const s of e)if(s in t&&a(t[s]))return!0;return!!(t.image||t.image_url||t.img||t.picture)}export{S as L,w as g,E as i};
